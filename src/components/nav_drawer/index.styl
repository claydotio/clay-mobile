@require 'nib'

json('../../stylus/vars.json')

$drawerWidth = 304
$navDrawerHeaderHeight = 200
$zIndexNavDrawerHeader = 100


.z-nav-drawer
  position: fixed
  z-index: $zIndexDrawer // FIXME (name)
  width: 100%
  height: 100%
  top: 0
  left: 0
  pointer-events: none // not supported in ie9/10 (ie our entire app breaks)

  &.is-open
    pointer-events: all // not supported in ie9/10

    > .overlay
      background: $overlayColor
      transition: background 0.25s

    > .drawer
      left: 0
      transition: left 0.25s

  > .overlay
    background: transparent
    transition: background 0.25s
    width: 100%
    height: 100%

  > .drawer
    width: ($drawerWidth) px
    left: -($drawerWidth)px
    height: 100%
    top: 0
    position: fixed
    z-index: $zIndexDrawer
    transform: translateZ(0) /* gpu accelerate */
    transition: left 0.25s
    text-align: left
    box-sizing: border-box

    > .header
      width: 100%
      height: ($navDrawerHeaderHeight) px
      padding: 16px
      box-sizing: border-box
      position: relative
      z-index: $zIndexNavDrawerHeader
      background: $orange

      > .user-header
        flex-direction: column

        > .picture
          width: 72px
          height: 72px
          border-radius: 50%

        > .name
          font-size: $fontSizeMedium
          color: $white
          margin-top: auto
          margin-bottom: 8px

      > .guest-header
        flex-direction: column

        > .description
          font-size: $fontSizeMedium
          color: $white

        > .actions
          margin-top: auto
          align-self: flex-end

    > .content
      background: $bgColor
      height: 100%
      width: 100%
      // necessary for overflow: auto to work right since this is set to 100% height
      margin-top: -($navDrawerHeaderHeight) px
      padding: 16px
      padding-top: ($navDrawerHeaderHeight + 16) px
      box-sizing: border-box
      box-shadow: -10px 0 10px 0px rgba(0, 0, 0, 0.04)
      box-sizing: border-box
      overflow: auto

      > .menu
        list-style-type: none
        margin: 0
        padding: 0
        > .menu-item
          > .menu-item-link
            display: block
            padding: 16px 0
            font-size: $fontSizeMedium

            &.is-unavailable
              color: $greyMedium
              pointer-events: none // not supported in ie9/10 (ie our entire app breaks)

            &.is-selected
              color: $blue

            > .icon
              display: inline-block
              vertical-align: middle
              margin-right: 32px
              font-size: $iconMedium
